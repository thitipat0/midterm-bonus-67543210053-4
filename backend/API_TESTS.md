# 📊 PART 1: C1 Context Diagram (Client–Server Architecture)

วัตถุประสงค์:
แสดงภาพรวมของระบบในมุมมอง Client–Server ว่าใครเป็นผู้ใช้งาน ระบบทำหน้าที่อะไร และติดต่อกับอะไรบ้าง

```text
┌─────────────────────────────────────────────────────┐
│                                                     │
│ CLIENT                                              │
│ Web Browser (ผู้ใช้งานระบบ)                             │
│ - เจ้าของห้องสมุด                                      │
│ - พนักงาน                                            │
│ - ผู้ใช้งานทั่วไป                                        │
│                                                     │
└────────────┬────────────────────────────────────────┘
             │
             │ HTTP / JSON (Request–Response)
             │ การทำงานแบบ CRUD
             ▼
┌─────────────────────────────────────────────────────┐
│                                                     │
│ SERVER                                              │
│ Library Management System                           │
│ (Node.js + Express.js)                              │
│                                                     │
│ • ให้บริการ RESTful API                               │
│ • ประมวลผล Business Logic                           │
│ • จัดการข้อมูลหนังสือ                                   │
│ • ยืม / คืนหนังสือ                                     │
│ • ส่งผลลัพธ์กลับในรูปแบบ JSON                           │
│                                                     │
└────────────┬────────────────────────────────────────┘
             │
             │ SQL Queries
             ▼
┌─────────────────────────────────────────────────────┐
│                                                     │
│ DATABASE                                            │
│ SQLite (library.db)                                 │
│                                                     │
└─────────────────────────────────────────────────────┘
```

คำอธิบาย:
1. Client
   - ผู้ใช้งานเข้าถึงระบบผ่าน Web Browser
   - ส่ง HTTP Request ไปยัง Server
   - แสดงผลข้อมูลที่ได้รับจาก Server

2. Server
   - เป็นศูนย์กลางของระบบ
   - รับ Request จาก Client
   - ตรวจสอบข้อมูลและประมวลผลตามกฎของระบบ
   - ติดต่อกับ Database
   - ส่ง HTTP Response กลับไปยัง Client

3. Database
   - ใช้ SQLite สำหรับจัดเก็บข้อมูลถาวร
   - ไม่ถูกเข้าถึงโดย Client โดยตรง
   - ติดต่อผ่าน Server เท่านั้น

---

# 🏗️ PART 2: C2 Container Diagram (Client–Server Architecture)

วัตถุประสงค์:
แสดงองค์ประกอบหลักของระบบในมุมมอง Client–Server

```text
╔══════════════════════════════════════════════════════╗
║ CLIENT                                               ║
║ Web Browser                                          ║
║ - HTML / CSS / JavaScript                            ║
║ - ส่วนติดต่อผู้ใช้งาน (User Interface)                    ║
║ - ส่ง HTTP Request                                    ║
╚══════════════════════════════════════════════════════╝
             │
             │ HTTP / JSON
             ▼
╔══════════════════════════════════════════════════════╗
║ SERVER                                               ║
║ Library Management System                            ║
║ (Node.js + Express.js)                               ║
║                                                      ║
║ • REST API                                           ║
║ • ประมวลผลข้อมูลและกฎทางธุรกิจ                          ║
║ • จัดการข้อมูลหนังสือ                                    ║
║                                                      ║
║ * ภายใน Server ถูกจัดโครงสร้างแบบ Layered               ║
╚══════════════════════════════════════════════════════╝
             │
             │ SQL
             ▼
╔══════════════════════════════════════════════════════╗
║ DATABASE                                             ║
║ SQLite (library.db)                                  ║
║ Table: books                                         ║
╚══════════════════════════════════════════════════════╝
```

---

# 📌 PART 3: ความรับผิดชอบของแต่ละส่วน (Client–Server)

## 1. Client

หน้าที่:
- แสดงส่วนติดต่อผู้ใช้งาน
- รับข้อมูลจากผู้ใช้
- ส่ง HTTP Request ไปยัง Server
- แสดงผลลัพธ์ที่ได้รับจาก Server

เทคโนโลยีที่ใช้:
- HTML
- CSS
- JavaScript
- Fetch API

---

## 2. Server

หน้าที่:
- รับ HTTP Request จาก Client
- ตรวจสอบและ validate ข้อมูล
- ประมวลผล Business Logic
- ติดต่อ Database
- ส่ง HTTP Response พร้อม Status Code ที่เหมาะสม

เทคโนโลยีที่ใช้:
- Node.js
- Express.js
- RESTful API

หมายเหตุ:
แม้ระบบจะถูกออกแบบในภาพรวมแบบ Client–Server
แต่ภายใน Server มีการจัดโครงสร้างแบบ Layered Architecture
เพื่อให้โค้ดดูแลรักษาง่ายและขยายระบบได้สะดวก

---

## 3. Database

หน้าที่:
- จัดเก็บข้อมูลถาวร
- ประมวลผลคำสั่ง SQL
- ให้บริการข้อมูลแก่ Server เท่านั้น
- ป้องกันการเข้าถึงโดยตรงจาก Client

---

# 🔄 PART 4: Data Flow (Client → Server → Database → Client)

## แผนภาพการไหลของข้อมูล

```text
┌─────────────────────────────────────────────┐
│ CLIENT                                      │
│ POST /api/books                             │
│ Body: { title, author, isbn }               │
└────────────┬────────────────────────────────┘
             │ HTTP Request
             ▼
┌─────────────────────────────────────────────┐
│ SERVER                                      │
│ - ตรวจสอบข้อมูล                               │
│ - ประมวลผลตามกฎของระบบ                      │
│ - เรียกใช้งาน Database                         │
└────────────┬────────────────────────────────┘
             │ SQL
             ▼
┌─────────────────────────────────────────────┐
│ DATABASE                                    │
│ SQLite (library.db)                         │
│ บันทึกข้อมูลลงตาราง books                       │
└────────────┬────────────────────────────────┘
             │
             ▼
┌─────────────────────────────────────────────┐
│ SERVER                                      │
│ สร้าง HTTP Response                          │
│ Status: 201 Created                         │
│ Body: JSON                                  │
└────────────┬────────────────────────────────┘
             │ HTTP Response
             ▼
┌─────────────────────────────────────────────┐
│ CLIENT                                      │
│ แสดงข้อมูลหนังสือที่ถูกสร้าง                       │
└─────────────────────────────────────────────┘
```

สรุป:
Client เป็นผู้ร้องขอข้อมูล  
Server เป็นผู้ประมวลผลและควบคุมการเข้าถึงข้อมูล  
Database เป็นแหล่งเก็บข้อมูลถาวรของระบบ